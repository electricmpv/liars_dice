{"version":3,"sources":["file:///d:/editors/liars_dice_demo/shared/protocols/room-protocol.ts"],"names":["z","PlayerSchema","object","id","string","name","isReady","boolean","isAI","aiType","optional","RoomSchema","hostId","players","array","playerCount","number","maxPlayers","status","enum","hasPassword","isPrivate","hasFriends","createdAt","date","updatedAt","ChatMessageSchema","roomId","senderId","senderName","content","min","max","timestamp","HeartbeatSchema","clientTime","CreateRoomRequestSchema","playerName","JoinRoomRequestSchema","LeaveRoomRequestSchema","playerId","GetRoomInfoRequestSchema"],"mappings":"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","sourcesContent":["import { z } from \"zod\";\n\n// 玩家接口定义\nexport interface Player {\n  id: string;\n  name: string;\n  isReady: boolean;\n  isAI: boolean; // Added for AI player identification\n  aiType?: string; // Optional: Specifies the type of AI (e.g., 'coward')\n}\n\n// 房间状态定义\nexport type RoomStatus = \"waiting\" | \"gaming\" | \"closed\";\n\n// 房间接口定义\nexport interface Room {\n  id: string;\n  hostId: string; // 添加房主ID\n  name?: string;\n  players: Player[]; // 修改为 Player 对象数组\n  playerCount: number;\n  maxPlayers: number;\n  status: RoomStatus;\n  hasPassword: boolean;\n  isPrivate: boolean;\n  hasFriends: boolean;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\n// 玩家验证Schema\nexport const PlayerSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  isReady: z.boolean(),\n  isAI: z.boolean(), // Added for AI player identification\n  aiType: z.string().optional() // Optional: Specifies the type of AI\n});\n\n// 聊天消息接口\nexport interface ChatMessage {\n  roomId: string;\n  senderId: string;\n  senderName: string;\n  content: string;\n  timestamp: number;\n}\n\n// 心跳检测接口\nexport interface Heartbeat {\n  timestamp: number;\n  clientTime?: number;\n}\n\n// 房间验证Schema\nexport const RoomSchema = z.object({\n  id: z.string(),\n  hostId: z.string(), // 添加 hostId 验证\n  name: z.string().optional(),\n  players: z.array(PlayerSchema), // 修改为 PlayerSchema 数组验证\n  playerCount: z.number(),\n  maxPlayers: z.number(),\n  status: z.enum([\"waiting\", \"gaming\", \"closed\"]),\n  hasPassword: z.boolean(),\n  isPrivate: z.boolean(),\n  hasFriends: z.boolean(),\n  createdAt: z.date().optional(),\n  updatedAt: z.date().optional()\n});\n\n// 聊天消息验证Schema\nexport const ChatMessageSchema = z.object({\n  roomId: z.string(),\n  senderId: z.string(),\n  senderName: z.string(),\n  content: z.string().min(1).max(500),\n  timestamp: z.number()\n});\n\n// 心跳验证Schema\nexport const HeartbeatSchema = z.object({\n  timestamp: z.number(),\n  clientTime: z.number().optional()\n});\n\n// 创建房间请求验证\nexport const CreateRoomRequestSchema = z.object({\n  playerName: z.string().min(1).max(20)\n});\n\n// 加入房间请求验证\nexport const JoinRoomRequestSchema = z.object({\n  roomId: z.string(),\n  playerName: z.string().min(1).max(20)\n});\n\n// 离开房间请求验证\nexport const LeaveRoomRequestSchema = z.object({\n  roomId: z.string(),\n  playerId: z.string()\n});\n\n// 获取房间信息请求验证\nexport const GetRoomInfoRequestSchema = z.object({\n  roomId: z.string(),\n});\n"]}