{"version":3,"sources":["file:///D:/editors/liars_dice_demo/client/assets/shared/schemas/PlayerState.ts"],"names":["PlayerState","constructor","data","id","sessionId","name","diceCount","isReady","isConnected","isAI","aiType","currentDices","update","undefined"],"mappings":";;;iBAMaA,W;;;;;;;;;;;;;AANb;AACA;AACA;AACA;AAEA;6BACaA,W,GAAN,MAAMA,WAAN,CAAkB;AAavB;AACAC,QAAAA,WAAW,CAACC,IAAD,EAAa;AAAA,eAbxBC,EAawB,GAbX,EAaW;AAAA,eAZxBC,SAYwB,GAZJ,EAYI;AAAA,eAXxBC,IAWwB,GAXT,EAWS;AAAA,eAVxBC,SAUwB,GAVJ,CAUI;AAAA,eATxBC,OASwB,GATL,KASK;AAAA,eARxBC,WAQwB,GARD,IAQC;AAAA,eAPxBC,IAOwB,GAPR,KAOQ;AAAA,eANxBC,MAMwB,GANP,EAMO;AAJxB;AAIwB,eAHxBC,YAGwB,GAHE,EAGF;;AACtB,cAAIT,IAAJ,EAAU;AACR,iBAAKC,EAAL,GAAUD,IAAI,CAACC,EAAL,IAAW,EAArB;AACA,iBAAKC,SAAL,GAAiBF,IAAI,CAACE,SAAL,IAAkB,EAAnC;AACA,iBAAKC,IAAL,GAAYH,IAAI,CAACG,IAAL,IAAa,EAAzB;AACA,iBAAKC,SAAL,GAAiBJ,IAAI,CAACI,SAAL,IAAkB,CAAnC;AACA,iBAAKC,OAAL,GAAeL,IAAI,CAACK,OAAL,IAAgB,KAA/B;AACA,iBAAKC,WAAL,GAAmBN,IAAI,CAACM,WAAL,KAAqB,KAAxC,CANQ,CAMuC;;AAC/C,iBAAKC,IAAL,GAAYP,IAAI,CAACO,IAAL,IAAa,KAAzB;AACA,iBAAKC,MAAL,GAAcR,IAAI,CAACQ,MAAL,IAAe,EAA7B,CARQ,CAUR;;AACA,gBAAIR,IAAI,CAACS,YAAT,EAAuB;AACrB,mBAAKA,YAAL,GAAoB,CAAC,GAAGT,IAAI,CAACS,YAAT,CAApB;AACD;AACF;AACF,SA9BsB,CAgCvB;;;AACAC,QAAAA,MAAM,CAACV,IAAD,EAAkB;AACtB,cAAI,CAACA,IAAL,EAAW;AAEX,cAAIA,IAAI,CAACC,EAAL,KAAYU,SAAhB,EAA2B,KAAKV,EAAL,GAAUD,IAAI,CAACC,EAAf;AAC3B,cAAID,IAAI,CAACE,SAAL,KAAmBS,SAAvB,EAAkC,KAAKT,SAAL,GAAiBF,IAAI,CAACE,SAAtB;AAClC,cAAIF,IAAI,CAACG,IAAL,KAAcQ,SAAlB,EAA6B,KAAKR,IAAL,GAAYH,IAAI,CAACG,IAAjB;AAC7B,cAAIH,IAAI,CAACI,SAAL,KAAmBO,SAAvB,EAAkC,KAAKP,SAAL,GAAiBJ,IAAI,CAACI,SAAtB;AAClC,cAAIJ,IAAI,CAACK,OAAL,KAAiBM,SAArB,EAAgC,KAAKN,OAAL,GAAeL,IAAI,CAACK,OAApB;AAChC,cAAIL,IAAI,CAACM,WAAL,KAAqBK,SAAzB,EAAoC,KAAKL,WAAL,GAAmBN,IAAI,CAACM,WAAxB;AACpC,cAAIN,IAAI,CAACO,IAAL,KAAcI,SAAlB,EAA6B,KAAKJ,IAAL,GAAYP,IAAI,CAACO,IAAjB;AAC7B,cAAIP,IAAI,CAACQ,MAAL,KAAgBG,SAApB,EAA+B,KAAKH,MAAL,GAAcR,IAAI,CAACQ,MAAnB,CAVT,CAYtB;;AACA,cAAIR,IAAI,CAACS,YAAT,EAAuB;AACrB,iBAAKA,YAAL,GAAoB,CAAC,GAAGT,IAAI,CAACS,YAAT,CAApB;AACD;AACF;;AAjDsB,O","sourcesContent":["/**\r\n * 客户端专用的PlayerState定义\r\n * 用于解决Colyseus Schema导入问题\r\n */\r\n\r\n// 客户端使用的PlayerState类，不使用装饰器\r\nexport class PlayerState {\r\n  id: string = \"\";\r\n  sessionId: string = \"\";\r\n  name: string = \"\";\r\n  diceCount: number = 0;\r\n  isReady: boolean = false;\r\n  isConnected: boolean = true;\r\n  isAI: boolean = false;\r\n  aiType: string = \"\";\r\n  \r\n  // 可选的骰子数组，仅在客户端使用\r\n  currentDices?: number[] = [];\r\n  \r\n  // 从服务器数据构造\r\n  constructor(data?: any) {\r\n    if (data) {\r\n      this.id = data.id || \"\";\r\n      this.sessionId = data.sessionId || \"\";\r\n      this.name = data.name || \"\";\r\n      this.diceCount = data.diceCount || 0;\r\n      this.isReady = data.isReady || false;\r\n      this.isConnected = data.isConnected !== false; // 默认为true\r\n      this.isAI = data.isAI || false;\r\n      this.aiType = data.aiType || \"\";\r\n      \r\n      // 如果有骰子数据，也复制过来\r\n      if (data.currentDices) {\r\n        this.currentDices = [...data.currentDices];\r\n      }\r\n    }\r\n  }\r\n  \r\n  // 从服务器数据更新\r\n  update(data: any): void {\r\n    if (!data) return;\r\n    \r\n    if (data.id !== undefined) this.id = data.id;\r\n    if (data.sessionId !== undefined) this.sessionId = data.sessionId;\r\n    if (data.name !== undefined) this.name = data.name;\r\n    if (data.diceCount !== undefined) this.diceCount = data.diceCount;\r\n    if (data.isReady !== undefined) this.isReady = data.isReady;\r\n    if (data.isConnected !== undefined) this.isConnected = data.isConnected;\r\n    if (data.isAI !== undefined) this.isAI = data.isAI;\r\n    if (data.aiType !== undefined) this.aiType = data.aiType;\r\n    \r\n    // 如果有骰子数据，也更新\r\n    if (data.currentDices) {\r\n      this.currentDices = [...data.currentDices];\r\n    }\r\n  }\r\n}\r\n"]}